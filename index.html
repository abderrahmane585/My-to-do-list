<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My To-Do List</title>
<link rel="icon" type="image/png" href="favicon.png">
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

:root {
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    --secondary-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --dark-gradient: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
    --glass-bg: rgba(255, 255, 255, 0.1);
    --glass-border: rgba(255, 255, 255, 0.2);
    --text-primary: #1a202c;
    --text-secondary: #4a5568;
    --success: #48bb78;
    --danger: #f56565;
    --warning: #ed8936;
}

* { margin:0; padding:0; box-sizing:border-box; }

body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
    min-height:100vh;
    padding:20px;
    overflow-x:hidden;
}

@keyframes gradientShift {
    0%,100%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
}

/* Particles */
.particles{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;}
.particle{position:absolute;width:4px;height:4px;background:rgba(255,255,255,0.3);border-radius:50%;animation:float 6s ease-in-out infinite;}
@keyframes float{
0%,100{transform:translateY(0px) rotate(0deg); opacity:0.3;}
50%{transform:translateY(-20px) rotate(180deg); opacity:0.8;}
}

/* Container */
.container{
max-width:900px;
margin:0 auto;
background:rgba(255,255,255,0.15);
backdrop-filter:blur(20px);
border:1px solid rgba(255,255,255,0.2);
border-radius:30px;
box-shadow:0 25px 50px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3);
padding:50px;
animation: containerEnter 0.8s ease-out;
position:relative;
z-index:1;
}
@keyframes containerEnter{
from{opacity:0; transform:translateY(50px) scale(0.95); filter:blur(10px);}
to{opacity:1; transform:translateY(0) scale(1); filter:blur(0);}
}

/* Header */
.header{text-align:center;margin-bottom:50px;position:relative;}
h1{
font-size:3.5rem;font-weight:800;margin-bottom:15px;
background:linear-gradient(135deg,#ffffff,#f7fafc,#e2e8f0);
-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
text-shadow:0 0 30px rgba(255,255,255,0.5);
letter-spacing:-0.02em;
animation:titleGlow 3s ease-in-out infinite alternate;
}
@keyframes titleGlow{
from{text-shadow:0 0 30px rgba(255,255,255,0.5);}
to{text-shadow:0 0 40px rgba(255,255,255,0.8),0 0 60px rgba(102,126,234,0.3);}
}
.subtitle{color:rgba(255,255,255,0.8); font-size:1.2rem; font-weight:400; letter-spacing:0.5px;}

/* Input section */
.input-section{display:flex;gap:20px;margin-bottom:40px;animation:slideInUp 0.6s ease-out 0.2s both;position:relative;}
@keyframes slideInUp{from{opacity:0; transform:translateY(30px);} to{opacity:1; transform:translateY(0);}}
#taskInput{
flex:1; padding:20px 25px; border:2px solid rgba(255,255,255,0.2); border-radius:20px;
font-size:1.1rem; font-weight:500;
background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); color:white;
transition: all 0.4s cubic-bezier(0.4,0,0.2,1); outline:none;
}
#taskInput::placeholder{color: rgba(255,255,255,0.6);}
#taskInput:focus{
border-color: rgba(255,255,255,0.5); background: rgba(255,255,255,0.15);
box-shadow:0 0 0 4px rgba(255,255,255,0.1),0 10px 30px rgba(0,0,0,0.1);
transform:translateY(-2px);
}

#addBtn{
padding:20px 35px; background:linear-gradient(135deg,#48bb78,#38a169);
color:white; border:none; border-radius:20px; font-size:1.1rem; font-weight:600;
cursor:pointer; transition: all 0.4s cubic-bezier(0.4,0,0.2,1);
box-shadow:0 8px 25px rgba(72,187,120,0.3); position:relative; overflow:hidden;
}
#addBtn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left 0.5s;}
#addBtn:hover::before{left:100%;}
#addBtn:hover{transform:translateY(-3px); box-shadow:0 15px 35px rgba(72,187,120,0.4); background:linear-gradient(135deg,#4fd88b,#3dd277);}
#addBtn:active{transform:translateY(-1px);}

/* Stats */
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px;animation:slideInUp 0.6s ease-out 0.3s both;}
.stat{background: rgba(255,255,255,0.1); backdrop-filter:blur(15px); border:1px solid rgba(255,255,255,0.2); border-radius:20px; padding:25px; text-align:center; transition:all 0.3s ease; cursor:pointer;}
.stat:hover{transform:translateY(-5px) scale(1.02); background:rgba(255,255,255,0.15); box-shadow:0 10px 30px rgba(0,0,0,0.1);}
.stat-number{font-size:2.5rem; font-weight:800; color:white; text-shadow:0 2px 10px rgba(0,0,0,0.2); margin-bottom:8px;}
.stat-label{font-size:0.95rem;color:rgba(255,255,255,0.8); font-weight:500; letter-spacing:0.5px;}

/* Filter buttons */
.filter-buttons{display:flex;gap:15px;margin-bottom:30px;justify-content:center;animation:slideInUp 0.6s ease-out 0.4s both;}
.filter-btn{
padding:12px 24px; border:2px solid rgba(255,255,255,0.3); background:rgba(255,255,255,0.1); backdrop-filter:blur(10px);
border-radius:25px; cursor:pointer; transition: all 0.3s cubic-bezier(0.4,0,0.2,1); font-size:0.95rem; font-weight:500; color:rgba(255,255,255,0.9); position:relative; overflow:hidden;
}
.filter-btn::before{content:''; position:absolute; top:0; left:0; width:100%; height:100%; background:linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.2)); transform:translateX(-100%); transition:transform 0.3s ease;}
.filter-btn:hover::before, .filter-btn.active::before{transform:translateX(0);}
.filter-btn.active, .filter-btn:hover{background:rgba(255,255,255,0.2); border-color:rgba(255,255,255,0.5); color:white; transform:translateY(-2px);}

/* Todo list */
#todoList{list-style:none; animation:slideInUp 0.6s ease-out 0.5s both;}
.todo-item{display:flex; align-items:center; padding:25px; margin-bottom:20px; background:rgba(255,255,255,0.1); backdrop-filter:blur(15px); border:1px solid rgba(255,255,255,0.15); border-radius:20px; border-left:5px solid #4facfe; transition:all 0.4s cubic-bezier(0.4,0,0.2,1); animation:taskSlideIn 0.5s ease-out; position:relative; overflow:hidden;}
.todo-item::before{content:''; position:absolute; top:0; left:0; width:100%; height:100%; background:linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.1)); transform:translateX(-100%); transition:transform 0.3s ease;}
.todo-item:hover::before{transform:translateX(0);}
@keyframes taskSlideIn{from{opacity:0; transform:translateX(-30px) scale(0.95);} to{opacity:1; transform:translateX(0) scale(1);}}
.todo-item:hover{transform:translateY(-3px); box-shadow:0 15px 40px rgba(0,0,0,0.15); border-left-color:#00f2fe;}
.todo-item.completed{opacity:0.6; border-left-color:var(--success);}
.todo-item.completed .task-text{text-decoration:line-through; color:rgba(255,255,255,0.6);}
.checkbox{width:28px;height:28px;border:3px solid rgba(255,255,255,0.4);border-radius:50%;cursor:pointer;margin-right:20px;display:flex;align-items:center;justify-content:center;position:relative;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);}
.checkbox:hover{border-color:rgba(255,255,255,0.7);transform:scale(1.1);}
.checkbox.checked{background:linear-gradient(135deg,var(--success),#38a169);border-color:var(--success);box-shadow:0 0 20px rgba(72,187,120,0.4);}
.checkbox.checked::after{content:'✓';color:white;font-weight:bold;font-size:16px;animation:checkPop 0.3s ease-out;}
@keyframes checkPop{0%{transform:scale(0);}50%{transform:scale(1.3);}100%{transform:scale(1);}}
.task-text{flex:1;font-size:1.15rem;color:rgba(255,255,255,0.95);line-height:1.5;font-weight:500;}
.task-time{font-size:0.9rem;color:rgba(255,255,255,0.6);margin-right:20px;font-weight:400;}
.delete-btn{background:linear-gradient(135deg,var(--danger),#e53e3e);color:white;border:none;border-radius:12px;padding:10px 16px;cursor:pointer;font-size:0.9rem;font-weight:500;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);box-shadow:0 4px 15px rgba(245,101,101,0.3);}
.delete-btn:hover{background:linear-gradient(135deg,#fc8181,var(--danger));transform:scale(1.05) translateY(-2px);box-shadow:0 8px 25px rgba(245,101,101,0.4);}
.empty-state{text-align:center;padding:80px 20px;color:rgba(255,255,255,0.8);animation:fadeIn 0.6s ease-out;}
.empty-state h3{font-size:2rem;margin-bottom:15px;color:white;font-weight:600;}
.empty-state p{font-size:1.1rem;opacity:0.7;}

/* Logout */
.logout-btn{margin-top:15px;background:#e74c3c;color:white;border:none;padding:8px 14px;border-radius:6px;cursor:pointer;}

/* Mobile responsiveness */
@media(max-width:768px){
.container{padding:30px 25px;margin:10px;border-radius:25px;}
h1{font-size:2.5rem;}
.input-section{flex-direction:column;gap:15px;}
#taskInput,#addBtn{padding:18px 20px;}
.stats{grid-template-columns:1fr;gap:15px;}
.filter-buttons{flex-wrap:wrap;gap:10px;}
.todo-item{padding:20px;flex-direction:column;align-items:flex-start;gap:15px;}
.task-content{display:flex;align-items:center;width:100%;gap:15px;}
.task-actions{display:flex;justify-content:space-between;width:100%;align-items:center;}
}

/* Theme toggle */
.theme-toggle{position:absolute;top:20px;right:20px;background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.2);border-radius:50px;padding:12px 20px;color:white;cursor:pointer;transition:all 0.3s ease;font-size:0.9rem;}
.theme-toggle:hover{background:rgba(255,255,255,0.15);transform:scale(1.05);}

    /* ===== Mobile Responsiveness ===== */
@media (max-width: 992px) {
    .container {
        padding: 40px 30px;
        margin: 15px;
    }
    h1 {
        font-size: 3rem;
    }
    .input-section {
        flex-direction: column;
        gap: 15px;
    }
    #taskInput, #addBtn {
        width: 100%;
        padding: 18px 20px;
    }
    .stats {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
    }
    .filter-buttons {
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
    }
    .todo-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
        padding: 20px;
    }
    .todo-item .task-content {
        width: 100%;
        gap: 10px;
    }
    .todo-item .task-actions {
        width: 100%;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 10px;
    }
    .delete-btn {
        width: 100%;
        text-align: center;
        margin-top: 10px;
    }
    .task-text {
        font-size: 1rem;
    }
}

/* ===== Extra Small Screens ===== */
@media (max-width: 576px) {
    h1 {
        font-size: 2.2rem;
        line-height: 2.5rem;
    }
    .subtitle {
        font-size: 1rem;
    }
    .theme-toggle {
        top: 15px;
        right: 15px;
        padding: 10px 16px;
        font-size: 0.8rem;
    }
    .input-section {
        gap: 10px;
    }
    #taskInput, #addBtn {
        padding: 15px 18px;
        font-size: 1rem;
    }
    .stats {
        grid-template-columns: 1fr 1fr;
        gap: 10px;
    }
    .filter-buttons {
        gap: 8px;
    }
    .todo-item {
        padding: 15px;
    }
    .task-text {
        font-size: 0.95rem;
    }
    .task-time {
        font-size: 0.85rem;
    }
}

    
</style>
</head>
<body>

<div class="particles" id="particles"></div>

<div class="container">
<div class="theme-toggle" onclick="toggleParticles()">✨ Effects</div>

<div class="header">
<h1>My To-Do List</h1>
<p class="subtitle">Transform your productivity with style</p>
</div>

<div class="input-section">
<input type="text" id="taskInput" placeholder="What amazing thing will you accomplish today?" maxlength="200">
<button id="addBtn">Add Task</button>
</div>

<div class="stats">
<div class="stat">
<div class="stat-number" id="totalTasks">0</div>
<div class="stat-label">Total Tasks</div>
</div>
<div class="stat">
<div class="stat-number" id="completedTasks">0</div>
<div class="stat-label">Completed</div>
</div>
<div class="stat">
<div class="stat-number" id="pendingTasks">0</div>
<div class="stat-label">Remaining</div>
</div>
</div>

<div class="filter-buttons">
<button class="filter-btn active" data-filter="all">All Tasks</button>
<button class="filter-btn" data-filter="pending">Active</button>
<button class="filter-btn" data-filter="completed">Completed</button>
</div>

<ul id="todoList"></ul>
</div>

<button onclick="logout()" class="logout-btn">Logout</button>

<script>
// ===== User & Tasks =====
let currentUser = localStorage.getItem('currentUser');
if(!currentUser){ window.location.href='main.html'; }

let tasks = JSON.parse(localStorage.getItem(currentUser+'_tasks') || '[]');

let currentFilter = 'all';
let particlesEnabled = true;

// DOM elements
const taskInput = document.getElementById('taskInput');
const addBtn = document.getElementById('addBtn');
const todoList = document.getElementById('todoList');
const filterBtns = document.querySelectorAll('.filter-btn');
const totalTasksEl = document.getElementById('totalTasks');
const completedTasksEl = document.getElementById('completedTasks');
const pendingTasksEl = document.getElementById('pendingTasks');
const particlesContainer = document.getElementById('particles');

// ===== Particles =====
function createParticles(){
    if(!particlesEnabled) return;
    for(let i=0;i<20;i++){
        const p = document.createElement('div');
        p.className='particle';
        p.style.left=Math.random()*100+'%';
        p.style.top=Math.random()*100+'%';
        p.style.animationDelay=Math.random()*6+'s';
        p.style.animationDuration=(Math.random()*3+4)+'s';
        particlesContainer.appendChild(p);
    }
}
function toggleParticles(){particlesEnabled=!particlesEnabled; particlesContainer.innerHTML=''; if(particlesEnabled) createParticles();}

// ===== Tasks =====
function saveTasks(){localStorage.setItem(currentUser+'_tasks', JSON.stringify(tasks));}
    function renderTasks(){
    let filtered = tasks;
    if(currentFilter==='completed') filtered = tasks.filter(t => t.completed);
    else if(currentFilter==='pending') filtered = tasks.filter(t => !t.completed);

    if(filtered.length === 0){
        todoList.innerHTML = `<div class="empty-state">
<h3>${currentFilter==='completed'?'No completed tasks yet':currentFilter==='pending'?'No active tasks':'Your canvas awaits'}</h3>
<p>${currentFilter==='completed'?'Complete some tasks to see them here!':currentFilter==='pending'?'Add tasks to get started.':'Add something amazing!'}</p>
</div>`;
        updateStats();
        return;
    }

    todoList.innerHTML = '';
    filtered.forEach((task) => {
        const realIndex = tasks.indexOf(task); // <--- get the correct index in main array
        const li = document.createElement('li'); 
        li.className = 'todo-item' + (task.completed?' completed':'');
        li.innerHTML = `
            <div class="checkbox ${task.completed?'checked':''}" onclick="toggleTask(${realIndex})"></div>
            <div class="task-text">${task.text}</div>
            <button class="delete-btn" onclick="deleteTask(${realIndex})">Delete</button>
        `;
        todoList.appendChild(li);
    });
    updateStats();
}

    todoList.innerHTML='';
    filtered.forEach((task,index)=>{
        const li=document.createElement('li'); li.className='todo-item'+(task.completed?' completed':'');
        li.innerHTML=`<div class="checkbox ${task.completed?'checked':''}" onclick="toggleTask(${index})"></div>
        <div class="task-text">${task.text}</div>
        <button class="delete-btn" onclick="deleteTask(${index})">Delete</button>`;
        todoList.appendChild(li);
    });
    updateStats();
}

function updateStats(){
    const total = tasks.length;
    const completed = tasks.filter(t=>t.completed).length;
    const pending = total - completed;
    totalTasksEl.textContent=total;
    completedTasksEl.textContent=completed;
    pendingTasksEl.textContent=pending;
}

function addTask(){
    const text = taskInput.value.trim();
    if(!text) return alert('Please write something amazing!');
    tasks.push({text, completed:false});
    saveTasks(); taskInput.value='';
    renderTasks();
}

function toggleTask(index){
    tasks[index].completed=!tasks[index].completed;
    saveTasks(); renderTasks();
}

function deleteTask(index){
    if(!confirm('Are you sure you want to delete this task?')) return;
    tasks.splice(index,1);
    saveTasks(); renderTasks();
}

addBtn.addEventListener('click', addTask);
taskInput.addEventListener('keydown', e=>{if(e.key==='Enter') addTask();});

// Filter buttons
filterBtns.forEach(btn=>{
    btn.addEventListener('click',()=>{
        filterBtns.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        currentFilter=btn.dataset.filter;
        renderTasks();
    });
});

// Logout
function logout(){localStorage.removeItem('currentUser'); window.location.href='main.html';}

// Init
createParticles();
renderTasks();
</script>

</body>
</html>


