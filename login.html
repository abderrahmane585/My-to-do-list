<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - Para Flash</title>
<script src="https://accounts.google.com/gsi/client" async defer></script>
<style>
body{display:flex;align-items:center;justify-content:center;height:100vh;background:#667eea;color:white;font-family:'Inter',sans-serif;}
.container{background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);padding:50px;border-radius:25px;text-align:center;box-shadow:0 15px 30px rgba(0,0,0,0.2);}
input{padding:12px 18px;margin:10px 0;width:100%;border-radius:15px;border:none;outline:none;}
button{padding:12px 20px;margin:10px;width:100%;border:none;border-radius:15px;background:#38a169;color:white;cursor:pointer;}
button:hover{transform:scale(1.05);}
</style>
</head>
<body>
<div class="container">
<h2>Login</h2>
<input type="text" id="username" placeholder="Enter your username">
<button onclick="login()">Login</button>
<p>Or login with Google:</p>
<div id="g_id_onload"
     data-client_id="YOUR_GOOGLE_CLIENT_ID"
     data-callback="handleCredentialResponse"
     data-auto_prompt="false">
</div>
<div class="g_id_signin" data-type="standard"></div>
<p>No account? <a href="signup.html" style="color:#fff;text-decoration:underline;">Sign Up</a></p>
</div>

<script>
function login(){
    const username=document.getElementById('username').value.trim();
    if(!username){alert('Enter username');return;}
    if(!localStorage.getItem(username+'_tasks')) localStorage.setItem(username+'_tasks','[]');
    localStorage.setItem('currentUser',username);
    window.location.href='index.html';
}

function handleCredentialResponse(response){
    const id_token = response.credential;
    const googleUser = 'google_'+id_token;
    if(!localStorage.getItem(googleUser+'_tasks')) localStorage.setItem(googleUser+'_tasks','[]');
    localStorage.setItem('currentUser', googleUser);
    window.location.href='index.html';
}
</script>
</body>
</html>

